printfln("*** File I/O Test ***");
_Finish _finish;

var sw = new StreamWriter;
if (sw.Open("test.txt"))
{
	sw.WriteLine("こんにちは、世界！");
	sw.WriteLine("1 + 1 = %d", 1 + 1);
	sw.Close();
}

var sr = new StreamReader;
if (sr.Open("test.txt"))
{
	printfln("sr.IsUTF8 = %d", sr.IsUTF8);
	printfln("sr.Stream.Length = %d", sr.Stream.Length);
	
	int ln = 1;
	var line : string;
	while ((line = sr.ReadLine()) != null)
		printfln("%d: %s", ln++, line);
	
	sr.Close();
}
